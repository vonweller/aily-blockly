<!-- 知识管理板块 -->
<div class="section-card knowledge-section">
  <div class="section-header">
    <div class="section-icon">
      <i class="icon-knowledge"></i>
    </div>
    <h2>知识管理</h2>
    <div class="section-actions">
      <button class="btn-primary" (click)="onAddKnowledge()">添加知识</button>
      <button class="btn-secondary" (click)="onImportKnowledge()">导入</button>
    </div>
  </div>
  
  <div class="section-content">
    <div class="search-bar">
      <i class="icon-search"></i>
      <input type="text" 
             placeholder="搜索知识库..." 
             [(ngModel)]="knowledgeSearchQuery"
             (input)="onSearchKnowledge()"
             class="search-input">
      <button class="btn-filter" (click)="onToggleKnowledgeFilter()">
        <i class="icon-filter"></i>
      </button>
    </div>

    <div class="knowledge-categories">
      <div class="category-tree">
        <div class="category-node" *ngFor="let category of knowledgeCategories">
          <div class="category-header" (click)="toggleCategory(category)">
            <i class="icon-folder" [class.expanded]="category.expanded"></i>
            <span>{{category.name}}</span>
            <span class="item-count">({{category.itemCount}})</span>
          </div>
          <div class="category-children" *ngIf="category.expanded">
            <div class="knowledge-item" *ngFor="let item of category.items">
              <div class="item-type-icon">
                <i [class]="getKnowledgeTypeIcon(item.type)"></i>
              </div>
              <div class="item-info">
                <h4>{{item.title}}</h4>
                <p>{{item.summary}}</p>
                <div class="item-tags">
                  <span class="tag" *ngFor="let tag of item.tags">{{tag}}</span>
                </div>
                <div class="item-meta">
                  <span class="author">{{item.author}}</span>
                  <span class="date">{{item.createTime | date}}</span>
                  <span class="usage-count">使用 {{item.usageCount}} 次</span>
                </div>
              </div>
              <div class="item-actions">
                <button class="btn-icon" (click)="onViewKnowledge(item)">
                  <i class="icon-view"></i>
                </button>
                <button class="btn-icon" (click)="onEditKnowledge(item)">
                  <i class="icon-edit"></i>
                </button>
                <button class="btn-icon" (click)="onShareKnowledge(item)">
                  <i class="icon-share"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="knowledge-insights">
      <h3>知识洞察</h3>
      <div class="insight-cards">
        <div class="insight-card">
          <i class="icon-trending"></i>
          <div>
            <h4>热门知识点</h4>
            <p>{{topKnowledge?.title}}</p>
          </div>
        </div>
        <div class="insight-card">
          <i class="icon-recent"></i>
          <div>
            <h4>最近学习</h4>
            <p>{{recentKnowledge?.title}}</p>
          </div>
        </div>
        <div class="insight-card">
          <i class="icon-recommend"></i>
          <div>
            <h4>推荐学习</h4>
            <p>{{recommendedKnowledge?.title}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
