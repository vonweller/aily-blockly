<div class="aily-mermaid-viewer sscroll" (dblclick)="logDetail()">
  @if (errorMessage) {
  <div class="error-card">
    <div class="error-content">
      <span class="error-text">ğŸš« å›¾è¡¨æ¸²æŸ“å¤±è´¥</span>
    </div>
  </div>
  } @else if (isLoading) {
  <div class="error-card">
    <div class="error-content">
      <div class="error-text">ğŸ“Š ç­‰å¾…å›¾è¡¨ç”Ÿæˆ...</div>
    </div>
  </div>
  } @else if (renderedSvg) {
  <div class="mermaid-card">
    <div class="mermaid-container" [id]="containerId" [innerHTML]="renderedSvg" (click)="enterFullscreen()"></div>
  </div>
  }
</div>

<!-- å…¨å±æ¨¡æ€æ¡† -->
@if (isFullscreen) {
<div class="fullscreen-overlay" (click)="exitFullscreen()">
  <div class="fullscreen-container" [id]="fullscreenContainerId" (click)="$event.stopPropagation()"
    (wheel)="onWheel($event)" (mousedown)="onMouseDown($event)" (mousemove)="onMouseMove($event)"
    (mouseup)="onMouseUp($event)" (mouseleave)="onMouseUp($event)">
    <div class="fullscreen-chart" [style.transform]="transform" [innerHTML]="renderedSvg"></div>
  </div>
</div>
}