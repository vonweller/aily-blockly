<div class="aily-mermaid-viewer" (dblclick)="logDetail()">
  @if (errorMessage) {
    <div class="error-card">
      <div class="error-content">
        <i class="error-icon">ğŸš«</i>
        <span class="error-text">Mermaid å›¾è¡¨æ¸²æŸ“å¤±è´¥</span>
      </div>
      <div class="error-details">{{ errorMessage }}</div>
      
      @if (rawCode) {
        <div class="raw-data-section">
          <details>
            <summary>æ˜¾ç¤ºåŸå§‹ä»£ç </summary>
            <pre class="raw-code">{{ rawCode }}</pre>
          </details>
        </div>
      }
    </div>
  } @else if (isLoading) {
    <div class="loading-card">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <span class="loading-text">ğŸ“Š æ­£åœ¨ç”Ÿæˆä¸­...</span>
        <div class="loading-hint">ç­‰å¾… Mermaid å›¾è¡¨å†…å®¹å®Œæ•´ç”Ÿæˆ</div>
      </div>
    </div>
  } @else if (renderedSvg) {
    <div class="mermaid-card">
      <div class="mermaid-container" 
           [id]="containerId" 
           [innerHTML]="renderedSvg"
           (click)="onContainerClick($event)">
      </div>
    </div>
  }
</div>
